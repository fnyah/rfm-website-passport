<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <link
      href="../../../public/assets/css/admin.css"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body>
    <div
      class="contianer"
      style="margin-left: 10%; margin-right: 10%; margin-bottom: 10%"
    >
      <h1 class="mb-4 px-3 mt-4">Editing Student Project: <%= projectData.title %></h1>
      <form
        action="/admin/projects/<%= projects.id %>?_method=PUT"
        method="POST"
        enctype="multipart/form-data"
      >
        <div>
          <div class="contianer project-photo-box">
            <div class="m-4 project-photo-container">
              <h1>Images:</h1>
              <div class="project-images">
                <% projects.filename.forEach(image => { %>
                <div class="project-image">
                  <div
                    class="project-image-background"
                    style="
                      background-image: url(/projectimages/<%= image %>);
                    "
                  ></div>
                </div>
                <% }) %>
              </div>
            </div>
            <div class="btn-container">
              <% if (projects.filename.length > 0) { %>
              <button
                id="edit-images-btn"
                type="button"
                class="btn btn-primary px-3 mt-4"
                style="margin-bottom: 10px"
              >
                Edit Images
              </button>
              <% } %>
            </div>
          </div>
        </div>
        <label for="title">Title:</label>
        <input
          required
          type="text"
          name="title"
          id="title"
          class="form-control mt-2"
          value="<%= projects.title %>"
        />
        <label for="author">Author:</label>
        <input
          required
          type="text"
          name="author"
          id="author"
          class="form-control mt-2"
          value="<%= projects.author %>"
        />
        <label for="description">Information:</label>
        <textarea
          type="text"
          name="description"
          id="description"
          style="height: 300px; white-space: pre-line; white-space: pre-wrap"
          class="form-control mt-2"
        >
            <%= projects.description %>
          </textarea
        >

        <label for="videolink" style="margin-top: 10px"
          >Video Links (Separated by commas):</label
        >
        <input
          type="text"
          name="videolink"
          id="videolink"
          class="form-control mt-2"
          value="<%= projects.videoLink %>"
        />

        <div class="form-group mt-2">
          <label for="image">Add new images:</label>
          <input
            type="file"
            name="file"
            id="file"
            class="custom-file-input"
            multiple
          />
        </div>

        <button type="submit" class="btn btn-primary px-3 mt-4">Save</button>
        <a
          href="/admin/projects"
          id="confirmClickActionElementId"
          class="btn btn-secondary px-3 mt-4"
          onclick="return confirm('Are you sure you want to cancel editing?');"
          >Cancel</a
        >
        <a href="/admin/projects" class="btn btn-primary px-3 mt-4">
          All Projects</a
        >
      </form>
    </div>

    <script src="../../../public/assets/js/editphoto.js"></script>
  </body>
</html>
